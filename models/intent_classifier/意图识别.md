

为了更好地支持后续基于 意图分类 -> 查询不同数据库（Milvus, Faiss, Neo4j, MySQL, Redis） 的美食RAG系统，我们需要构建一个**“可操作的细粒度意图体系”**。下面是我为你设计的多级意图分类体系，它兼顾了用户自然问题的多样性、可微调的意图分类模型训练目标，以及每类意图可对应的数据源。

✅ 精细化意图分类（带数据库映射建议）
| 主类            | 子类              | 示例                              | 推荐数据库                                       |
| ------------- | --------------- | ------------------------------- | ------------------------------------------- |
| **1. 做法类**    | 1.1 菜品做法查询      | “红烧肉怎么做？”                       | Neo4j（结构）、MySQL（全文）、Redis（缓存）               |
|               | 1.2 技巧/关键步骤     | “怎么炸红薯饼更酥脆？”、“布里欧修如何打出手套膜？”     | Neo4j（技巧关联）、MySQL、Redis                     |
|               | 1.3 工具替代/简化做法   | “烤鸡翅能用空气炸锅吗？”、“能不能不用烤箱？”        | Neo4j、Redis                                 |
|               | 1.4 多种做法比较      | “番茄炒蛋有多少种做法？”                   | MySQL、Neo4j                                 |
| **2. 健康营养类**  | 2.1 适合人群推荐      | “哪些菜适合儿童吃？”、“老人吃什么菜软烂易消化？”      | MySQL（结构）、Milvus/Faiss（相似推荐）、Neo4j（人群-菜关联图） |
|               | 2.2 疾病/饮食限制     | “糖尿病人能吃什么甜点？”、“高血压患者吃什么？”       | MySQL、Neo4j（知识图谱疾病/属性关系）                    |
|               | 2.3 营养分析        | “紫菜蛋花汤营养成分有哪些？”、“羊肉有膻味吗？”       | MySQL（营养字段）、Neo4j（食材-属性）                    |
|               | 2.4 健身/减脂场景     | “健身适合吃什么高蛋白食谱？”、“低卡低脂的晚餐有哪些？”   | MySQL、Milvus（相似内容）                          |
| **3. 食材搭配类**  | 3.1 基于已有食材推荐菜品  | “我有牛奶、鸡蛋和面粉，能做什么？”              | Milvus / Faiss（向量相似搜索）                      |
|               | 3.2 不放/替代某种食材   | “酸奶蛋糕可以不放橙子吗？”、“没有葡萄干可以做馒头吗？”   | Neo4j（食材替代图谱）、MySQL                         |
|               | 3.3 食材冲突/宜忌     | “鸡蛋和豆浆能一起吃吗？”                   | Neo4j（禁忌图谱）、MySQL                           |
| **4. 比较与选择类** | 4.1 菜品对比        | “红烧羊肉和红烧牛肉哪个好吃？”                | Milvus/Faiss、MySQL、Neo4j                    |
|               | 4.2 做法对比（健康/口感） | “烤鸡翅和炸鸡翅哪个更健康？”                 | Neo4j、MySQL                                 |
|               | 4.3 营养对比        | “传统鸡汤和肥牛汤哪个更补？”                 | MySQL、Neo4j                                 |
| **5. 厨师/来源类** | 5.1 菜谱出处        | “这道菜是哪个大厨发明的？”、“哪些米其林厨师推荐布里欧修？” | Neo4j（厨师-菜关系）、MySQL                         |
|               | 5.2 区域/菜系来源     | “这道菜是广东菜吗？”、“水晶饺是哪里的菜？”         | Neo4j（菜系-地理图谱）、MySQL                        |
| **6. 季节/场景类** | 6.1 节气推荐        | “冬天吃什么最滋补？”、“夏天适合吃什么凉菜？”        | MySQL、Milvus                                |
|               | 6.2 场景推荐        | “春游带什么小吃？”、“适合早餐的快手菜有哪些？”       | MySQL、Milvus                                |
| **7. 季节/操作类** | 7.1 问题排查        | “为什么吐司不蓬松？”、“炸饼糊了怎么办？”          | Redis（短文本QA缓存）、MySQL                        |
|               | 7.2 保存/储存建议     | “香草糖可以保存多久？”、“金枪鱼罐头怎么去腥？”       | MySQL、Redis                                 |
| **8. 风味/口感类** | 8.1 风味偏好        | “哪些菜口味清淡？”、“哪些菜咸香下饭？”           | Faiss（按标签聚类相似度）、Neo4j                       |
|               | 8.2 特征描述        | “哪些菜有奶香味？”、“哪些甜品不腻人？”           | MySQL、Neo4j                                 |
| **9. 教学/教程类** | 9.1 高质量教学资源     | “有没有大师级的家常菜教程？”                 | MySQL、Neo4j                                 |
|               | 9.2 视频/图文推荐     | “有没有这道菜的视频做法？”                  | MySQL、Redis                                 |
| **10. 其他**    | 10.1 模糊请求       | “推荐几道适合小孩吃的健康餐”                 | Milvus / Faiss                              |
|               | 10.2 未知类 / 暂不支持 | “你最喜欢哪道菜？”                      | 回答“不支持”或引导                                  |


🧠 构造意图标签（label list）

| tag\_id                   | tag\_desc     |
| ------------------------- | ------------- |
| recipe\_query             | 1.1 菜品做法查询    |
| recipe\_technique         | 1.2 技巧/关键步骤   |
| recipe\_tool\_alternative | 1.3 工具替代/简化做法 |
| recipe\_compare           | 1.4 多种做法比较    |
| health\_audience          | 2.1 适合人群推荐    |
| health\_disease           | 2.2 疾病/饮食限制   |
| health\_nutrition\_info   | 2.3 营养分析      |
| health\_fitness           | 2.4 健身/减脂场景   |
| ingredient2dish           | 3.1 食材推荐做菜    |
| ingredient\_replace       | 3.2 替代某种食材    |
| ingredient\_conflict      | 3.3 食材冲突/宜忌   |
| compare\_dish             | 4.1 菜品对比      |
| compare\_method           | 4.2 做法对比      |
| compare\_nutrition        | 4.3 营养对比      |
| origin\_chef              | 5.1 菜谱出处      |
| origin\_region            | 5.2 区域/菜系归属   |
| seasonal\_recommend       | 6.1 节气推荐      |
| scene\_recommend          | 6.2 场景推荐      |
| troubleshooting           | 7.1 问题排查      |
| storage\_advice           | 7.2 储存建议      |
| flavor\_preference        | 8.1 风味偏好      |
| texture\_description      | 8.2 特征描述      |
| tutorial\_highlevel       | 9.1 高质量教程     |
| tutorial\_media           | 9.2 视频图文推荐    |
| fuzzy\_request            | 10.1 模糊请求     |
| unsupported               | 10.2 暂不支持     |



✅ 每类意图如何连接数据库模块
| 意图类别        | 查询优先级逻辑（数据库优先）        |
| ----------- | --------------------- |
| 做法查询/技巧/替代  | Neo4j → MySQL → Redis |
| 营养、健康、食材属性  | MySQL → Neo4j（食材图）    |
| 食材搭配 / 禁忌   | Neo4j（图谱） → MySQL     |
| 相似菜品推荐      | Milvus / Faiss 向量召回   |
| 口感/风味推荐     | Faiss → Redis         |
| 教学资源        | MySQL → Redis（视频缓存）   |
| 菜谱来源/菜系     | Neo4j（菜谱关系图）          |
| 故障排查 / 保存建议 | Redis → MySQL         |

